{"version":3,"sources":["app.js","config.js","router.js","directive.js","ionicLazyLoad.js","ngStorage.js","service.js","demo/demo.js","home/home.js","list/list.js","person/person.js","search/search.js","star/star.js","view/view.js"],"names":["app","angular","module","config","$ionicConfigProvider","$sceDelegateProvider","scrolling","jsScrolling","platform","ios","tabs","style","position","android","spinner","icon","navBar","alignTitle","views","transition","$httpProvider","interceptors","push","factory","$rootScope","$q","$location","$timeout","$window","response","toState","path","headers","run","$ionicViewSwitcher","$state","$stateParams","$localStorage","$http","$goback","history","back","nextDirection","$refresh","location","reload","$search","go","$on","event","to","toParams","from","fromParams","previousState","previousStateParams","fromState","constant","host","port","$stateProvider","$urlRouterProvider","state","url","templateUrl","$tplVersion","abstract","tab-home","controller","cache","tab-list","tab-person","otherwise","directive","scope","ngsrc","ngopt","link","$scope","$dom","src","dom_image","element","offset","split","scale","width","screen","parseInt","height","image","Image","onload","restrict","replace","iAttrs","bind","ele","document","getElementById","classList","add","className","left","pageX","top","pageY","remove","$confirm","Toast","$ionicListDelegate","priority","attrs","btnOption","viewOption","view","video","view1","view2","save","vo","list","saveList","flag","i","vid","show","unshift","closeOptionButtons","delete","index","videos","indexOf","title","splice","preview","window","open","preview_video_url","$compile","keywords","template","keywordArr","$ionicScrollDelegate","isBtnTop","scroll","$getByHandle","handle","getScrollPosition","scrollTop","$event","target","origEvent","$onScroll","$broadcast","$document","lazyScrollResize","imageLazyBackgroundImage","imageLazySrc","$element","$attributes","loader","imageLazyDistanceFromBottomToLoad","imageLazyDistanceFromRightToLoad","imageLazyLoader","after","$watch","oldV","newV","deregistration","isInView","loadImage","e","resize","unbind","this","bgImg","backgroundImage","clientHeight","documentElement","clientWidth","imageRect","getBoundingClientRect","on","_storageFactory","storageType","_last$storage","_debounce","k","webStorage","console","warn","$storage","$default","items","isDefined","$reset","length","key","slice","fromJson","getItem","copy","setTimeout","equals","forEach","v","setItem","toJson","removeItem","addEventListener","newValue","$apply","$ionicLoading","_showBackdrop","_content","_icon","_class","showBackdrop","mclass","content","animation","minWidth","showDelay","hide","$ionicPopup","_option","_callback","_callback_cancle","callback","callback_cancle","confirm","buttons","text","type","onTap","then","res","filter","_time","time","date","Date","nowtime","getTime","toDateString","formatDate","getMonth","getFullYear","fmt","obj","y","undefined","M","d","getDate","q","Math","floor","w","getDay","H","getHours","h","m","getMinutes","s","getSeconds","S","getMilliseconds","week","RegExp","val","j","len","substring","WAP_CONFIG","$log","_api","endpoint","post","data","deferred","defer","timeout","success","header","status","resolve","error","msg","code","errorTitle","reject","promise","get","Api","getQuery","_page","option","o","t","c","limit","query","substr","page","search","_keyword","keyword","encodeURIComponent","jav","categories","collections","_limit","_limt","_status","$ionicPopover","$loading","$sessionStorage","toggleShow","showItem","dom","offsetLeft","offsetWidth","body","scrollTo","fromTemplateUrl","popover","openPopover","closePopover","surePopover","form_o","form_t","form_type","videoApi","init","has_more","slideVideos","loadNextPage","concat","log","categoryId","getCurrentCate","CHID","currentCate","cateImg","getVideoByCHID","viewCate","change","reset","goStar","searchVideo","submit","searchKey","blur","focus","$sce","video_src","trustAsResourceUrl","embedded_url"],"mappings":"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","file":"main.min.js","sourcesContent":["var app = angular.module('app', ['ionic', 'ngStorage','ionicLazyLoad']);\r\n\r\napp.config(function($ionicConfigProvider, $sceDelegateProvider) {\r\n    //$sceDelegateProvider.resourceUrlWhitelist([ 'self','*://www.youtube.com/**', '*://player.vimeo.com/video/**']);\r\n    $ionicConfigProvider.scrolling.jsScrolling(false);\r\n    $ionicConfigProvider.platform.ios.tabs.style('standard');\r\n    $ionicConfigProvider.platform.ios.tabs.position('bottom');\r\n    $ionicConfigProvider.platform.android.tabs.style('standard');\r\n    $ionicConfigProvider.platform.android.spinner.icon(\"ios\");\r\n    $ionicConfigProvider.platform.android.tabs.position('standard');\r\n    $ionicConfigProvider.platform.ios.navBar.alignTitle('center');\r\n    $ionicConfigProvider.platform.android.navBar.alignTitle('bottom');\r\n    $ionicConfigProvider.platform.ios.views.transition('ios');\r\n    $ionicConfigProvider.platform.android.views.transition('android');\r\n})\r\n\r\napp.config(function($httpProvider) {\r\n    $httpProvider.interceptors.push('AuthInterceptor');\r\n})\r\napp.factory('AuthInterceptor', function($rootScope, $q, $location, $timeout, $window) {\r\n    return {\r\n        response: function(response, toState) {\r\n            var path = $location.path();\r\n            var header = response.headers();\r\n            return response;\r\n        }\r\n    };\r\n})\r\napp.run(function($ionicViewSwitcher,$window, $rootScope, $state, $stateParams, $localStorage, $http, $q, $location) {\r\n    $rootScope.$state = $state;\r\n    $rootScope.$stateParams = $stateParams;\r\n    $rootScope.$goback = function() {\r\n        $window.history.back();\r\n        $ionicViewSwitcher.nextDirection(\"back\");\r\n    }\r\n    $rootScope.$refresh = function() {\r\n        $window.location.reload();\r\n        // $state.reload();\r\n    }\r\n    $rootScope.$search = function() {\r\n        $state.go(\"search\");\r\n        $ionicViewSwitcher.nextDirection(\"forward\");   \r\n    }\r\n    $rootScope.$on('$stateChangeSuccess', function(event, to, toParams, from, fromParams, toState) {\r\n        $rootScope.previousState = from;\r\n        $rootScope.previousStateParams = fromParams;\r\n    });\r\n\r\n    $rootScope.$on(\"$stateChangeStart\", function(event, toState, toParams, fromState, fromParams) {\r\n        // ionic.Platform.setPlatform('ios');\r\n    })\r\n})","app.constant('WAP_CONFIG', {\r\n        host: 'https://api.avgle.com',\r\n        port: 443,\r\n        path: '/v1/',\r\n        platform: 'browser' // \r\n    })"," app.config(function($stateProvider, $urlRouterProvider) {\r\n\r\n     $stateProvider\r\n         .state('app', {\r\n             url: '/app',\r\n             templateUrl: 'tpl/app.html?v=' + $tplVersion,\r\n             abstract: true\r\n         })\r\n\r\n         .state('app.home', {\r\n             url: '/home',\r\n             views: {\r\n                 'tab-home': {\r\n                     templateUrl: 'tpl/home.html?v=' + $tplVersion,\r\n                     controller: 'homeCtrl',\r\n                     cache:true\r\n                 }\r\n             }\r\n         })\r\n\r\n         .state('app.list', {\r\n             url: '/list',\r\n             views: {\r\n                 'tab-list': {\r\n                     templateUrl: 'tpl/list.html?v=' + $tplVersion,\r\n                     controller: 'listCtrl',\r\n                     cache:true\r\n                 }\r\n             }\r\n         })\r\n         \r\n         .state('app.person', {\r\n             url: '/person',\r\n             views: {\r\n                 'tab-person': {\r\n                     templateUrl: 'tpl/person.html?v=' + $tplVersion,\r\n                     controller: 'personCtrl',\r\n                     cache:true\r\n                 }\r\n             }\r\n         })\r\n\r\n         .state('view', {\r\n             url: '/view',\r\n             templateUrl: 'tpl/view.html?v=' + $tplVersion,\r\n             controller: 'viewCtrl',\r\n             cache:true\r\n         })\r\n\r\n         .state('star', {\r\n             url: '/star',\r\n             templateUrl: 'tpl/star.html?v=' + $tplVersion,\r\n             controller: 'starCtrl',\r\n             cache:true\r\n         })\r\n\r\n          .state('demo', {\r\n             url: '/demo',\r\n             templateUrl: 'tpl/demo.html?v=' + $tplVersion,\r\n             controller: 'demoCtrl',\r\n             cache:true\r\n         })\r\n         .state('search', {\r\n             url: '/search?key',\r\n             templateUrl: 'tpl/search.html?v=' + $tplVersion,\r\n             controller: 'searchCtrl',\r\n             cache:false\r\n         })\r\n\r\n\r\n\r\n     $urlRouterProvider.otherwise('/app/home');\r\n });","app.directive('ionImg', function() {\r\n    return {\r\n        scope: {\r\n            ngsrc: '@',\r\n            ngopt: '@',\r\n        },\r\n        link: function($scope, $dom) {\r\n            var src = $scope.ngsrc;\r\n            var ngopt = $scope.ngopt;\r\n            var dom_image = angular.element($dom)[0];\r\n            var img_src_default = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAIAAAADwcZiAAAAW0lEQVRYCe3SMQ7AMAzDwLb//6k/UWTnyGQJPWqQgIPfmXmO33d8cQ22ups94YQ9gb7Js+SmhNnFSxP2LLkpYXbx0oQ9S25KmF28NGHPkpsSZhcvTdiz5KabhH9OFAMPqToRyQAAAABJRU5ErkJggg==\";\r\n            dom_image.src = img_src_default;\r\n            if (ngopt) {\r\n                var ngopt = ngopt.split(',');\r\n                var offset = ngopt[0];\r\n                var scale = ngopt[1];\r\n                dom_image.width = screen.width + parseInt(offset);\r\n                dom_image.height = dom_image.width * scale;\r\n            }\r\n            var image = new Image();\r\n            image.src = src;\r\n            image.onload = function() {\r\n                dom_image.src = src;\r\n            }\r\n        },\r\n    };\r\n});\r\n\r\n/**\r\n *rjHoldActive指令\r\n *产生一种数据动态涟漪效果\r\n */\r\napp.directive('rjHoldActive', function($timeout) {\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        link: function(scope, element, iAttrs, controller) {\r\n            element.bind(\"click\", function(event) {\r\n                var ele = document.getElementById(\"ripple\");\r\n                if (ele.classList) ele.classList.add(\"animate\");\r\n                else ele.className += \" animate\";\r\n                ele.style.left = (event.pageX - 20) + \"px\";\r\n                ele.style.top = (event.pageY - 20) + \"px\";\r\n                $timeout(function() {\r\n                    ele.style.left = \"-40px\";\r\n                    ele.style.top = \"-40px\";\r\n                    if (ele.classList) ele.classList.remove(\"animate\");\r\n                    else ele.className = ele.className.replace('animate', '');\r\n\r\n                }, 200);\r\n            });\r\n        }\r\n    };\r\n});\r\n\r\napp.directive('ionMovie', function($confirm, $state, $localStorage, Toast, $ionicViewSwitcher, $ionicListDelegate, $rootScope) {\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        scope: false,\r\n        priority: 1001,\r\n        templateUrl: \"tpl/movie.component.html\",\r\n        // template:'<ion-item  class=\"item-thumbnail-left\" ng-click=\"view(vo)\"><img image-lazy-src=\"{{vo.preview_url}}\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAIAAAADwcZiAAAAW0lEQVRYCe3SMQ7AMAzDwLb//6k/UWTnyGQJPWqQgIPfmXmO33d8cQ22ups94YQ9gb7Js+SmhNnFSxP2LLkpYXbx0oQ9S25KmF28NGHPkpsSZhcvTdiz5KabhH9OFAMPqToRyQAAAABJRU5ErkJggg==\"><h3 style=\"white-space: initial;max-height: 62px;line-height:20px;\">{{vo.title}}</h3><p><button class=\"button-assertive button button-small btn-keyword\" ng-click=\"$event.stopPropagation()\" ui-sref=\"search({key:vo.keyword})\">{{vo.keyword}}</button></p><ion-option-button class=\"button-calm\" ng-click=\"save(vo)\">收藏</ion-option-button></ion-item>',\r\n        link: function(scope, element, attrs, controller) {\r\n            scope.btnOption=scope.btnOption||1;\r\n            scope.viewOption=scope.viewOption||1;\r\n            scope.view=function(video){\r\n               if(scope.viewOption==1){\r\n                   scope.view1(video);\r\n               }\r\n               else if(scope.viewOption==2){\r\n                   scope.view2(video);\r\n               }\r\n            }\r\n            scope.view1 = function(video) {\r\n                $localStorage.video = video;\r\n                $state.go(\"view\");\r\n                $ionicViewSwitcher.nextDirection(\"forward\");\r\n            }\r\n\r\n            scope.save = function(vo) {\r\n                var list = $localStorage.saveList || [];\r\n                var flag = false;\r\n                for (var i in list) {\r\n                    if (list[i].vid == vo.vid) {\r\n                        flag = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!flag) list.unshift(vo);\r\n                else {\r\n                    Toast.show(\"您已经收藏了该电影\");\r\n                }\r\n                $localStorage.saveList = list;\r\n                $ionicListDelegate.closeOptionButtons();\r\n            }\r\n\r\n            scope.view2 = function(video) {\r\n                $localStorage.video = video;\r\n                $state.go(\"view\", {}, { reload: true })\r\n            }\r\n\r\n            scope.delete = function(vo) {\r\n                var index=scope.videos.indexOf(vo);\r\n                $confirm.show({ title: \"确定要删除吗\" }, function() {\r\n                    scope.videos.splice(index, 1);\r\n                    $localStorage.saveList = scope.videos;\r\n                    $ionicListDelegate.closeOptionButtons();\r\n                }, function() { $ionicListDelegate.closeOptionButtons(); });\r\n            }\r\n            scope.preview=function(vo){\r\n                window.open(vo.preview_video_url);  \r\n                $ionicListDelegate.closeOptionButtons();           \r\n            }\r\n        }\r\n    };\r\n});\r\n\r\napp.directive('labelKeyword', ['$compile', function($compile) {\r\n    return {\r\n        restrict: 'AE',\r\n        replace: false,\r\n        priority: 1001,\r\n        scope: {\r\n            keywords: '@',\r\n        },\r\n        template: '<button ng-repeat=\"vo in keywordArr\" class=\"button-assertive button button-small btn-keyword\" ng-click=\"$event.stopPropagation()\" ui-sref=\"search({key:vo})\">{{vo}}</button>',\r\n        link: function(scope, element, attrs, controller) {\r\n            scope.keywordArr=[];\r\n            var keywordArr = scope.keywords.split(' ');\r\n            for(var i in keywordArr){\r\n                 if(scope.keywordArr.indexOf(keywordArr[i])==-1){\r\n                    scope.keywordArr.push(keywordArr[i]);\r\n                 }\r\n            }\r\n        }\r\n    };\r\n}]);\r\n\r\napp.directive('btnScrollTop',function($timeout,$ionicScrollDelegate,$timeout) {\r\n        return {\r\n            restrict: 'AE',\r\n            replace: false,\r\n            scope: false,\r\n            priority: 1001,\r\n            template:'<div class=\"button-top ng-hide\" ng-show=\"isBtnTop\" ng-click=\"scrollTop($event)\"><i class=\"icon ion-arrow-up-a\"></i></div>',\r\n            link: function(scope, element, iAttrs, controller) {\r\n                scope.isBtnTop=false;\r\n                scope.scroll=function(){\r\n                     var content=$ionicScrollDelegate.$getByHandle(scope.handle);\r\n                     var pos=content.getScrollPosition();\r\n                     if(pos.top>600){\r\n                          $timeout(function(){scope.isBtnTop=true},300);\r\n                       }else{\r\n                          $timeout(function(){scope.isBtnTop=false},300);\r\n                     }\r\n                }\r\n                scope.scrollTop=function($event){\r\n                    var ele=$event.target;\r\n                    if(ele.classList) ele.classList.add(\"activated\");\r\n                    else ele.className +=\" activated\";\r\n                    $timeout(function(){\r\n                        if(ele.classList) ele.classList.remove(\"activated\"); \r\n                        else ele.className=ele.className.replace('activated','');\r\n                    },300);\r\n                    $ionicScrollDelegate.$getByHandle(scope.handle).scrollTop(true);\r\n                }\r\n            }\r\n        };\r\n})","/**\r\n * Created by PAVEI on 30/09/2014.\r\n * Updated by Ross Martin on 12/05/2014\r\n * Updated by Davide Pastore on 04/14/2015\r\n * Updated by Michel Vidailhet on 05/12/2015\r\n * Updated by Rene Korss on 11/25/2015\r\n */\r\n\r\nangular.module('ionicLazyLoad', []);\r\n\r\nangular.module('ionicLazyLoad')\r\n\r\n.directive('lazyScroll', ['$rootScope',\r\n    function($rootScope) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function ($scope) {\r\n                var origEvent = $scope.$onScroll;\r\n                $scope.$onScroll = function () {\r\n                    $rootScope.$broadcast('lazyScrollEvent');\r\n\r\n                    if(typeof origEvent === 'function'){\r\n                      origEvent();\r\n                    }\r\n                };\r\n            }\r\n        };\r\n}])\r\n\r\n.directive('imageLazySrc', ['$document', '$timeout', '$ionicScrollDelegate', '$compile',\r\n    function ($document, $timeout, $ionicScrollDelegate, $compile) {\r\n        return {\r\n            restrict: 'A',\r\n            scope: {\r\n                lazyScrollResize: \"@lazyScrollResize\",\r\n                imageLazyBackgroundImage: \"@imageLazyBackgroundImage\",\r\n                imageLazySrc: \"@\"\r\n            },\r\n            link: function ($scope, $element, $attributes) {\r\n                if (!$attributes.imageLazyDistanceFromBottomToLoad) {\r\n                    $attributes.imageLazyDistanceFromBottomToLoad = 0;\r\n                }\r\n                if (!$attributes.imageLazyDistanceFromRightToLoad) {\r\n                    $attributes.imageLazyDistanceFromRightToLoad = 0;\r\n                }\r\n\r\n                var loader;\r\n                if ($attributes.imageLazyLoader) {\r\n                    loader = $compile('<div class=\"image-loader-container\"><ion-spinner class=\"image-loader\" icon=\"' + $attributes.imageLazyLoader + '\"></ion-spinner></div>')($scope);\r\n                    $element.after(loader);\r\n                }\r\n\r\n                $scope.$watch('imageLazySrc', function (oldV, newV) {\r\n                    if(loader)\r\n                        loader.remove();\r\n                    if ($attributes.imageLazyLoader) {\r\n                        loader = $compile('<div class=\"image-loader-container\"><ion-spinner class=\"image-loader\" icon=\"' + $attributes.imageLazyLoader + '\"></ion-spinner></div>')($scope);\r\n                        $element.after(loader);\r\n                    }\r\n                    var deregistration = $scope.$on('lazyScrollEvent', function () {\r\n                        //    console.log('scroll');\r\n                            if (isInView()) {\r\n                                loadImage();\r\n                                deregistration();\r\n                            }\r\n                        }\r\n                    );\r\n                    $timeout(function () {\r\n                        if (isInView()) {\r\n                            loadImage();\r\n                            deregistration();\r\n                        }\r\n                    }, 500);\r\n                });\r\n                var deregistration = $scope.$on('lazyScrollEvent', function () {\r\n                       // console.log('scroll');\r\n                        if (isInView()) {\r\n                            loadImage();\r\n                            deregistration();\r\n                        }\r\n                    }\r\n                );\r\n\r\n                function loadImage() {\r\n                    //Bind \"load\" event\r\n                    $element.bind(\"load\", function (e) {\r\n                        if ($attributes.imageLazyLoader) {\r\n                            loader.remove();\r\n                        }\r\n                        if ($scope.lazyScrollResize == \"true\") {\r\n                            //Call the resize to recalculate the size of the screen\r\n                            $ionicScrollDelegate.resize();\r\n                        }\r\n                        $element.unbind(\"load\");\r\n                    });\r\n                    $element.bind(\"error\", function (e) {\r\n                        this.src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAIAAAADwcZiAAAAW0lEQVRYCe3SMQ7AMAzDwLb//6k/UWTnyGQJPWqQgIPfmXmO33d8cQ22ups94YQ9gb7Js+SmhNnFSxP2LLkpYXbx0oQ9S25KmF28NGHPkpsSZhcvTdiz5KabhH9OFAMPqToRyQAAAABJRU5ErkJggg=='\r\n                    });\r\n\r\n                    if ($scope.imageLazyBackgroundImage == \"true\") {\r\n                        var bgImg = new Image();\r\n                        bgImg.onload = function () {\r\n                            if ($attributes.imageLazyLoader) {\r\n                                loader.remove();\r\n                            }\r\n                            $element[0].style.backgroundImage = 'url(' + $attributes.imageLazySrc + ')'; // set style attribute on element (it will load image)\r\n                            if ($scope.lazyScrollResize == \"true\") {\r\n                                //Call the resize to recalculate the size of the screen\r\n                                $ionicScrollDelegate.resize();\r\n                            }\r\n                        };\r\n                        bgImg.src = $attributes.imageLazySrc;\r\n                    } else {\r\n                        $element[0].src = $attributes.imageLazySrc; // set src attribute on element (it will load image)\r\n                    }\r\n                }\r\n\r\n                function isInView() {\r\n                    var clientHeight = $document[0].documentElement.clientHeight;\r\n                    var clientWidth = $document[0].documentElement.clientWidth;\r\n                    var imageRect = $element[0].getBoundingClientRect();\r\n                    return (imageRect.top >= 0 && imageRect.top <= clientHeight + parseInt($attributes.imageLazyDistanceFromBottomToLoad))\r\n                        && (imageRect.left >= 0 && imageRect.left <= clientWidth + parseInt($attributes.imageLazyDistanceFromRightToLoad));\r\n                }\r\n\r\n                // bind listener\r\n                // listenerRemover = scrollAndResizeListener.bindListener(isInView);\r\n\r\n                // unbind event listeners if element was destroyed\r\n                // it happens when you change view, etc\r\n                $element.on('$destroy', function () {\r\n                    deregistration();\r\n                });\r\n\r\n                // explicitly call scroll listener (because, some images are in viewport already and we haven't scrolled yet)\r\n                $timeout(function () {\r\n                    if (isInView()) {\r\n                        loadImage();\r\n                        deregistration();\r\n                    }\r\n                }, 500);\r\n            }\r\n        };\r\n    }]);\r\n","'use strict';\r\n\r\n(function() {\r\n\r\n    /**\r\n     * @ngdoc overview\r\n     * @name ngStorage\r\n     */\r\n\r\n    angular.module('ngStorage', []).\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name ngStorage.$localStorage\r\n     * @requires $rootScope\r\n     * @requires $window\r\n     */\r\n\r\n    factory('$localStorage', _storageFactory('localStorage')).\r\n\r\n    /**\r\n     * @ngdoc object\r\n     * @name ngStorage.$sessionStorage\r\n     * @requires $rootScope\r\n     * @requires $window\r\n     */\r\n\r\n    factory('$sessionStorage', _storageFactory('sessionStorage'));\r\n\r\n    function _storageFactory(storageType) {\r\n        return [\r\n            '$rootScope',\r\n            '$window',\r\n\r\n            function(\r\n                $rootScope,\r\n                $window\r\n            ){\r\n                // #9: Assign a placeholder object if Web Storage is unavailable to prevent breaking the entire AngularJS app\r\n                var webStorage = $window[storageType] || (console.warn('This browser does not support Web Storage!'), {}),\r\n                    $storage = {\r\n                        $default: function(items) {\r\n                            for (var k in items) {\r\n                                angular.isDefined($storage[k]) || ($storage[k] = items[k]);\r\n                            }\r\n\r\n                            return $storage;\r\n                        },\r\n                        $reset: function(items) {\r\n                            for (var k in $storage) {\r\n                                '$' === k[0] || delete $storage[k];\r\n                            }\r\n\r\n                            return $storage.$default(items);\r\n                        }\r\n                    },\r\n                    _last$storage,\r\n                    _debounce;\r\n\r\n                for (var i = 0, k; i < webStorage.length; i++) {\r\n                    // #8, #10: `webStorage.key(i)` may be an empty string (or throw an exception in IE9 if `webStorage` is empty)\r\n                    (k = webStorage.key(i)) && 'ngStorage-' === k.slice(0, 10) && ($storage[k.slice(10)] = angular.fromJson(webStorage.getItem(k)));\r\n                }\r\n\r\n                _last$storage = angular.copy($storage);\r\n\r\n                $rootScope.$watch(function() {\r\n                    _debounce || (_debounce = setTimeout(function() {\r\n                        _debounce = null;\r\n\r\n                        if (!angular.equals($storage, _last$storage)) {\r\n                            angular.forEach($storage, function(v, k) {\r\n                                angular.isDefined(v) && '$' !== k[0] && webStorage.setItem('ngStorage-' + k, angular.toJson(v));\r\n\r\n                                delete _last$storage[k];\r\n                            });\r\n\r\n                            for (var k in _last$storage) {\r\n                                webStorage.removeItem('ngStorage-' + k);\r\n                            }\r\n\r\n                            _last$storage = angular.copy($storage);\r\n                        }\r\n                    }, 100));\r\n                });\r\n\r\n                // #6: Use `$window.addEventListener` instead of `angular.element` to avoid the jQuery-specific `event.originalEvent`\r\n                'localStorage' === storageType && $window.addEventListener && $window.addEventListener('storage', function(event) {\r\n                    if ('ngStorage-' === event.key.slice(0, 10)) {\r\n                        event.newValue ? $storage[event.key.slice(10)] = angular.fromJson(event.newValue) : delete $storage[event.key.slice(10)];\r\n\r\n                        _last$storage = angular.copy($storage);\r\n\r\n                        $rootScope.$apply();\r\n                    }\r\n                });\r\n\r\n                return $storage;\r\n            }\r\n        ];\r\n    }\r\n\r\n})();\r\n","     app.factory('$loading', function($ionicLoading) {\r\n         return {\r\n             show: function(_showBackdrop, _content, _icon, _class) {\r\n                 var showBackdrop = _showBackdrop || false;\r\n                 var icon = _icon || 'ios';\r\n                 var mclass = _class || '';\r\n                 var content = _content || \"\";\r\n                 var style = showBackdrop ? \"<style>.loading-container .loading{background-color: rgba(0, 0, 0,0.6);}</style>\" :\r\n                     \"<style>.loading-container .loading{background-color: rgba(0, 0, 0,0.2);}</style>\";\r\n                 $ionicLoading.show({\r\n                     template: style + '<ion-spinner icon=\"' + icon + '\" class=\"' + mclass + '\"></ion-spinner><div>' + content + '</div>',\r\n                     content: 'Loading',\r\n                     animation: '',\r\n                     showBackdrop: showBackdrop,\r\n                     minWidth: 500,\r\n                     showDelay: 0\r\n                 });\r\n             },\r\n             hide: function() {\r\n                 $ionicLoading.hide();\r\n             }\r\n         }\r\n     });\r\n     app.factory(\"$confirm\", function($ionicPopup) {\r\n         return {\r\n             show: function(_option, _callback, _callback_cancle) {\r\n                 var title = _option.title || '提示';\r\n                 var content = _option.content || '';\r\n                 var callback = _callback || function() {};\r\n                 var callback_cancle = _callback_cancle || function() {};\r\n                 var popup = $ionicPopup.confirm({\r\n                     template: content,\r\n                     title: title,\r\n                     buttons: [{\r\n                         text: '确定',\r\n                         type: 'button-positive',\r\n                         onTap: function(e) {\r\n                             return 1;\r\n                         }\r\n                     }, {\r\n                         text: '取消',\r\n                         type: 'button-assertive',\r\n                     }]\r\n                 });\r\n                 popup.then(function(res) {\r\n                     if (res) {\r\n                         callback();\r\n                     } else {\r\n                         callback_cancle();\r\n                     }\r\n                 })\r\n             },\r\n         }\r\n     });\r\n     app.filter('Datetranslater', function() {\r\n\r\n         return function(_time) {\r\n             var time = _time;\r\n             var date = new Date(time);\r\n             var nowtime = new Date().getTime();\r\n             //当天\r\n             if (date.toDateString() === new Date().toDateString()) {\r\n                 return formatDate(date, 'HH:mm');\r\n             }\r\n             //六天以内\r\n             else if (nowtime - time < 6 * 24 * 60 * 60 * 1000) {\r\n                 return formatDate(date, 'w HH:mm');\r\n             }\r\n             //本月\r\n             else if (date.getMonth() == new Date().getMonth() && date.getFullYear() == new Date().getFullYear()) {\r\n                 return formatDate(date, 'MM-dd HH:mm');\r\n             } else if (date.getFullYear() == new Date().getFullYear()) {\r\n                 return formatDate(date, 'yyyy-MM-dd HH:mm');\r\n             } else {\r\n                 return formatDate(date, 'yyyy-MM-dd HH:mm');\r\n             }\r\n\r\n         }\r\n\r\n         function formatDate(date, fmt) {\r\n             date = date == undefined ? new Date() : date;\r\n             date = typeof date == 'number' ? new Date(date) : date;\r\n             fmt = fmt || 'yyyy-MM-dd HH:mm:ss';\r\n             var obj = {\r\n                 'y': date.getFullYear(), // 年份，注意必须用getFullYear\r\n                 'M': date.getMonth() + 1, // 月份，注意是从0-11\r\n                 'd': date.getDate(), // 日期\r\n                 'q': Math.floor((date.getMonth() + 3) / 3), // 季度\r\n                 'w': date.getDay(), // 星期，注意是0-6\r\n                 'H': date.getHours(), // 24小时制\r\n                 'h': date.getHours() % 12 == 0 ? 12 : date.getHours() % 12, // 12小时制\r\n                 'm': date.getMinutes(), // 分钟\r\n                 's': date.getSeconds(), // 秒\r\n                 'S': date.getMilliseconds() // 毫秒\r\n             };\r\n             var week = ['日', '一', '二', '三', '四', '五', '六'];\r\n             for (var i in obj) {\r\n                 fmt = fmt.replace(new RegExp(i + '+', 'g'), function(m) {\r\n                     var val = obj[i] + '';\r\n                     if (i == 'w') return (m.length > 2 ? '星期' : '周') + week[val];\r\n                     for (var j = 0, len = val.length; j < m.length - len; j++) val = '0' + val;\r\n                     return m.length == 1 ? val : val.substring(val.length - m.length);\r\n                 });\r\n             }\r\n             return fmt;\r\n         }\r\n\r\n\r\n     });\r\n     app.factory('Api', function($http,Toast,WAP_CONFIG, $q, $log, $ionicLoading, $timeout) {\r\n         var _api = WAP_CONFIG;\r\n         var endpoint = _api.host + ':' + _api.port + _api.path;\r\n\r\n         // public api  \r\n         return {\r\n             //发送服务器的域名+端口， \r\n             endpoint: endpoint,\r\n\r\n             //post请求，第一个参数是URL，第二个参数是向服务器发送的参数（JSON对象），  \r\n             post: function(url, data) {\r\n                 url = endpoint + url;\r\n                 var _timeout = 5000;\r\n                 var deferred = $q.defer();\r\n                 var tempPromise;\r\n                 //显示加载进度  \r\n                 $ionicLoading.show({\r\n                     template: '加载中...'\r\n                 });\r\n                 //判断用户是否传递了参数，如果有参数需要传递参数  \r\n                 if (data != null && data != undefined && data != \"\") {\r\n                     tempPromise = $http.post(url, data, { timeout: _timeout });\r\n                 } else {\r\n                     tempPromise = $http.post(url, { timeout: _timeout });\r\n                 }\r\n                 tempPromise.success(function(data, header, config, status) {\r\n                     deferred.resolve(data);\r\n                     $ionicLoading.hide();\r\n                 }).error(function(msg, code) {\r\n                     deferred.reject(msg);\r\n                     $log.error(msg, code);\r\n                     $ionicLoading.hide();\r\n                     var errorTitle;\r\n                     if(code=='-1') errorTitle=\"请求超时,请检查你的网络连接情况\";\r\n                     else if(code==\"400\") errorTitle=\"错误的请求\";\r\n                     else if(code==\"404\") errorTitle=\"404 Not Found\";\r\n                     else if(code==\"500\"||code==\"502\") errorTitle=\"出错了,请稍后再试\";\r\n                     else if(code==\"503\") errorTitle=\"您的操作太频繁了,休息一下再试吧\";\r\n                     else errorTitle=\"发生了未知错误,请稍后再试\";\r\n                     Toast.show(errorTitle,\"error\");\r\n                 });\r\n                 return deferred.promise;\r\n             },\r\n\r\n             //get请求，第一个参数是URL，第二个参数是向服务器发送的参数（JSON对象），  \r\n             get: function(url, data) {\r\n                 url = endpoint + url;\r\n                 var deferred = $q.defer();\r\n                 var tempPromise;\r\n                 var _timeout = 5000;\r\n                 //显示加载进度  \r\n                 $ionicLoading.show({\r\n                     template: '加载中...'\r\n                 });\r\n                 //判断用户是否传递了参数如果有参数需要传递参数  \r\n                 if (data != null && data != undefined && data != \"\") {\r\n                     tempPromise = $http.get(url, data, { timeout: _timeout });\r\n                 } else {\r\n                     tempPromise = $http.get(url, { timeout: _timeout });\r\n                 }\r\n                 tempPromise.success(function(data, header, config, status) {\r\n                     deferred.resolve(data);\r\n                     $ionicLoading.hide();\r\n                 }).error(function(msg, code) {\r\n                     deferred.reject(msg);\r\n                     $log.error(msg, code);\r\n                     $ionicLoading.hide();\r\n                     var errorTitle;\r\n                     if(code=='-1') errorTitle=\"请求超时,请检查你的网络连接情况\";\r\n                     else if(code==\"400\") errorTitle=\"错误的请求\";\r\n                     else if(code==\"404\") errorTitle=\"404 Not Found\";\r\n                     else if(code==\"500\"||code==\"502\") errorTitle=\"出错了,请稍后再试\";\r\n                     else if(code==\"503\") errorTitle=\"您的操作太频繁了,休息一下再试吧\";\r\n                     else errorTitle=\"发生了未知错误,请稍后再试\";\r\n\r\n                     Toast.show(errorTitle,\"error\");\r\n                 });\r\n                 return deferred.promise;\r\n             }\r\n         };\r\n\r\n     });\r\n     \r\n     app.factory('videoApi', function(Api, $q) {\r\n         function getQuery(_option, _page) {\r\n             var option = {\r\n                 o: _option.o || 'mr',\r\n                 t: _option.t || 'a',\r\n                 type: _option.type || '',\r\n                 c: _option.c || '',\r\n                 limit: _option.limit || 15\r\n             }\r\n             var query = '?';\r\n             for (var key in option) {\r\n                 query += (key + '=' + option[key] + '&');\r\n             }\r\n             return query.substr(0, query.length - 1);\r\n         }\r\n         return {\r\n             videos: function(_option, _page) {\r\n                 var deferred = $q.defer();\r\n                 var query = getQuery(_option, _page);\r\n                 var page = _page || 0;\r\n                 Api.get('videos/'+page+query).then(function(data) {\r\n                     if (data.success) {\r\n                         deferred.resolve(data);\r\n                     } else {\r\n                         deferred.reject(data);\r\n                     }\r\n                 }, function(data) {\r\n                     deferred.reject(data);\r\n                 });\r\n                 return deferred.promise;\r\n             },\r\n             search: function(_option, _keyword, _page) {\r\n                 var deferred = $q.defer();\r\n                 var query = getQuery(_option, _page);\r\n                 var page = _page || 0;\r\n                 var keyword = _keyword || '';\r\n                 keyword = encodeURIComponent(keyword);\r\n                 Api.get('search/'+keyword+'/'+page+query).then(function(data) {\r\n                     if (data.success) {\r\n                         deferred.resolve(data);\r\n                     } else {\r\n                         deferred.reject(data);\r\n                     }\r\n                 }, function(data) {\r\n                     deferred.reject(data);\r\n                 });\r\n                 return deferred.promise;\r\n             },\r\n             jav: function(_option, _keyword, _page) {\r\n                 var deferred = $q.defer();\r\n                 var query = getQuery(_option, _page);\r\n                 var page = _page || 0;\r\n                 var keyword = _keyword || '';\r\n                 keyword = encodeURIComponent(keyword);\r\n                 Api.get('jav/'+keyword+'/'+page+query).then(function(data) {\r\n                     if (data.success) {\r\n                         deferred.resolve(data);\r\n                     } else {\r\n                         deferred.reject(data);\r\n                     }\r\n                 }, function(data) {\r\n                     deferred.reject(data);\r\n                 });\r\n                 return deferred.promise;\r\n             },\r\n             categories: function() {\r\n                 var deferred = $q.defer();\r\n                 Api.get('categories').then(function(data) {\r\n                     if (data.success) {\r\n                         deferred.resolve(data);\r\n                     } else {\r\n                         deferred.reject(data);\r\n                     }\r\n                 }, function(data) {\r\n                     deferred.reject(data);\r\n                 });\r\n                 return deferred.promise;\r\n             },\r\n             video: function(vid) {\r\n                 if(!vid) return;\r\n                 var deferred = $q.defer();\r\n                 Api.get('video/'+vid).then(function(data) {\r\n                     if (data.success) {\r\n                         deferred.resolve(data);\r\n                     } else {\r\n                         deferred.reject(data);\r\n                     }\r\n                 }, function(data) {\r\n                     deferred.reject(data);\r\n                 });\r\n                 return deferred.promise;\r\n             },\r\n              collections: function(_page,_limit) {\r\n                 var page=_page||0;\r\n                 var limit=_limt||15;\r\n                 var deferred = $q.defer();\r\n                 Api.get('collections/'+page+\"?limit=\"+limit).then(function(data) {\r\n                     if (data.success) {\r\n                         deferred.resolve(data);\r\n                     } else {\r\n                         deferred.reject(data);\r\n                     }\r\n                 }, function(data) {\r\n                     deferred.reject(data);\r\n                 });\r\n                 return deferred.promise;\r\n             }\r\n\r\n         }\r\n     });\r\n\r\n     app.factory(\"Toast\", function($timeout, $ionicLoading) {\r\n         return {\r\n             show: function(content, _status) {\r\n                 var status = _status || 'info';\r\n                 if (status == 'error') {\r\n                     var _class = \"icon ion-android-alert assertive\";\r\n                 } else if (status == \"success\") {\r\n                     var _class = \"icon ion-android-alert positive\";\r\n                 } else if (status == \"info\") {\r\n                     var _class = \"icon ion-android-alert calm\";\r\n                 }\r\n                 $ionicLoading.show({\r\n                     template: '<i class=\"' + _class + '\">  ' + content + '</i>'\r\n                 });\r\n                 $timeout(function() { $ionicLoading.hide() }, 1500);\r\n             }\r\n         }\r\n     });","app.controller(\"demoCtrl\", function($ionicPopover,Api, $rootScope, $location, $ionicScrollDelegate, $loading, $scope, $http, $sessionStorage, $localStorage) {\n    \n    function init() {\n        $scope.showItem = 0;\n        // $scope.form_o='mr';$scope.form_t=\"a\";$scope.form_type=\"any\";\n        // $scope.openPopover();\n    }\n    $scope.toggleShow = function(index) {\n        if (index >= $scope.categories.length) return;\n        $scope.showItem = index;\n        var dom = document.getElementById(\"tab-cate-\" + index);\n        var left = dom.offsetLeft + dom.offsetWidth;\n        var offset = left - document.body.clientWidth / 2;\n        $ionicScrollDelegate.$getByHandle('slideScroll').scrollTo(offset, 0, true);\n    }\n\n    init();\n\n    $ionicPopover.fromTemplateUrl('tpl/filter.popover.html', {\n        scope: $scope\n    }).then(function(popover) {\n    $scope.popover = popover; $scope.popover.show();\n    });\n    $scope.openPopover = function($event) {\n        $scope.popover.show($event);\n    };\n    $scope.closePopover = function() {\n        $scope.popover.hide();\n    };\n    $scope.$on('$destroy', function() {\n        $scope.popover.remove();\n    });\n    $scope.surePopover=function(form_o,form_t,form_type){\n        var query=\"\";\n        if(form_o) query+=('&o='+form_o);\n        if(form_t) query+=('&t='+form_t);\n        if(form_type) query+=('&type='+form_type);\n        $scope.popover.hide();\n    }\n\n});","app.controller('homeCtrl', function($scope,videoApi, $ionicScrollDelegate) {\r\n        function init() {\r\n            $scope.page =-1;\r\n            $scope.has_more = true;\r\n            $scope.isBtnTop = false;\r\n            $scope.videos = [];\r\n            initSlideVideos();\r\n        }\r\n\r\n        function initSlideVideos() {\r\n            videoApi.videos({o:'mr',limit:5},0).then(function(data){\r\n                 $scope.slideVideos = data.response.videos;\r\n            });\r\n        }\r\n\r\n        $scope.loadNextPage = function() {\r\n            $scope.page++;\r\n            videoApi.videos({o:'mv'},$scope.page).then(function(data){\r\n                $scope.has_more = data.response.has_more;\r\n                $scope.videos = $scope.videos.concat(data.response.videos);\r\n                $scope.$broadcast('scroll.infiniteScrollComplete');\r\n            });\r\n        }\r\n        \r\n\r\n        $scope.$on('$ionicView.loaded', function() {\r\n            console.log(\"home\",\"$ionicView.loaded\")\r\n            init();\r\n        });\r\n\r\n    })\r\n\r\n\r\n\r\n"," app.controller('listCtrl', function($ionicPopover, $scope, videoApi, $ionicScrollDelegate) {\r\n     function init() {\r\n         $scope.categoryId = \"1\";\r\n         $scope.option={c:$scope.categoryId};\r\n         $scope.videos = [];\r\n         $scope.has_more = true;\r\n         initCategories();\r\n         $scope.isBtnTop = false;\r\n         $scope.page=-1;\r\n     }\r\n\r\n     function initCategories() {\r\n         videoApi.categories().then(function(data) {\r\n             $scope.categories = data.response.categories;\r\n             $scope.categoryId = \"1\";\r\n             getCurrentCate();\r\n\r\n         });\r\n     }\r\n\r\n     $scope.getVideoByCHID = function(option, page) {\r\n         videoApi.videos(option, page).then(function(data) {\r\n             $scope.$broadcast('scroll.infiniteScrollComplete');\r\n             $scope.has_more = data.response.has_more;\r\n             $scope.videos = $scope.videos.concat(data.response.videos);\r\n         });\r\n     }\r\n\r\n\r\n     $scope.loadNextPage = function() {\r\n         $scope.page++;\r\n         $scope.getVideoByCHID($scope.option, $scope.page);\r\n     }\r\n\r\n     function getCurrentCate(){\r\n        for(var i in $scope.categories){\r\n            if($scope.categories[i].CHID==$scope.categoryId){\r\n                $scope.currentCate=$scope.categories[i];\r\n                $scope.cateImg=\"http://gsonhub.coding.me/avmoo/cates/\"+$scope.currentCate.CHID+\".jpg\";\r\n            }\r\n         }\r\n     }\r\n\r\n     $scope.viewCate=function(){\r\n        $scope.change($scope.categoryId);\r\n     }\r\n     $scope.change = function(categoryId) {\r\n         $scope.page = 0;\r\n         $scope.videos = [];\r\n         $scope.categoryId=categoryId;\r\n         getCurrentCate();\r\n         $scope.option={c:categoryId};\r\n         $scope.getVideoByCHID($scope.option,$scope.page);\r\n         $ionicScrollDelegate.$getByHandle('listScroll').scrollTop();\r\n     }\r\n     $scope.$on('$ionicView.loaded', function() {\r\n         console.log(\"list\", \"$ionicView.loaded\")\r\n         init();\r\n     });\r\n     /*浮动框用于筛选*/\r\n     $ionicPopover.fromTemplateUrl('tpl/filter.popover.html', {\r\n         scope: $scope\r\n     }).then(function(popover) {\r\n         $scope.popover = popover;\r\n     });\r\n     $scope.openPopover = function($event) {\r\n         $scope.popover.show($event);\r\n     };\r\n     $scope.closePopover = function() {\r\n         $scope.popover.hide();\r\n     };\r\n     $scope.$on('$destroy', function() {\r\n         $scope.popover.remove();\r\n     });\r\n     $scope.reset=function(){\r\n         $scope.option={c:$scope.categoryId};\r\n         $scope.page=0;\r\n         $scope.videos=[];\r\n         $scope.getVideoByCHID($scope.option,$scope.page);\r\n         $ionicScrollDelegate.$getByHandle('listScroll').scrollTop();\r\n         $scope.popover.hide();\r\n     }\r\n     $scope.surePopover = function(form_o, form_t, form_type) {\r\n         var option={\r\n            o:form_o,\r\n            t:form_t,\r\n            type:form_type,\r\n            c:$scope.categoryId,\r\n         }\r\n         $scope.page=0;\r\n         $scope.videos=[];\r\n         $scope.option=option;\r\n         $scope.getVideoByCHID($scope.option,$scope.page);\r\n         $ionicScrollDelegate.$getByHandle('listScroll').scrollTop();\r\n         $scope.popover.hide();\r\n     }\r\n });","app.controller(\"personCtrl\",function($state,$scope,$ionicViewSwitcher){\r\n    $scope.$on('$ionicView.loaded', function() {\r\n            console.log(\"person\",\"$ionicView.loaded\")\r\n            // init();\r\n        });\r\n    $scope.goStar=function(){\r\n    \t$state.go(\"star\");\r\n    \t$ionicViewSwitcher.nextDirection(\"forward\");\r\n    }\r\n});","app.controller(\"searchCtrl\", function($ionicPopover,$timeout,videoApi, $location, $ionicScrollDelegate, $scope) {\n    $scope.searchVideo = function(_option,_keyword, _page) {\n        videoApi.search(_option,_keyword,_page,15).then(function(data) {\n            $scope.has_more = data.response.has_more;\n            $scope.videos = $scope.videos.concat(data.response.videos);\n            $scope.$broadcast('scroll.infiniteScrollComplete');\n         });\n    }\n\n    $scope.submit = function(searchKey) {\n        $scope.searchKey=searchKey;\n        $scope.option={};\n        $scope.page=0;\n        $scope.videos=[];\n        $ionicScrollDelegate.$getByHandle('searchScroll').scrollTop(true);\n        $scope.searchVideo($scope.option,searchKey,$scope.page);\n        $timeout(function(){document.getElementById(\"input_key\").blur();},500);\n    }\n\n    $scope.loadNextPage = function(searchKey) {\n        $scope.page++;\n        $scope.searchVideo($scope.option,searchKey, $scope.page);\n    }\n\n    $scope.$on('$ionicView.enter', function(e) {\n        init();\n        console.log(\"search\", \"$ionicView.enter\");\n    });\n\n    function init() {\n        $scope.searchKey=$location.search().key;\n        $scope.option={};\n        $scope.videos=[];\n        if($scope.searchKey){$scope.has_more=true;$scope.page=-1;}\n        else {\n            $timeout(function(){document.getElementById(\"input_key\").focus();},500);\n        }\n    }  \n    /*浮动框用于筛选*/\n     $ionicPopover.fromTemplateUrl('tpl/filter.popover.html', {\n         scope: $scope\n     }).then(function(popover) {\n         $scope.popover = popover;\n     });\n     $scope.openPopover = function($event) {\n         $scope.popover.show($event);\n     };\n     $scope.closePopover = function() {\n         $scope.popover.hide();\n     };\n     $scope.$on('$destroy', function() {\n         $scope.popover.remove();\n     });\n     $scope.reset=function(){\n         $scope.option={};\n         $scope.page=0;\n         $scope.videos=[];\n         $scope.searchVideo($scope.option,$scope.searchKey,$scope.page);\n         $ionicScrollDelegate.$getByHandle('listScroll').scrollTop();\n         $scope.popover.hide();\n     }\n     $scope.surePopover = function(form_o, form_t, form_type) {\n         var option={\n            o:form_o,\n            t:form_t,\n            type:form_type,\n         }\n         $scope.page=0;\n         $scope.videos=[];\n         $scope.option=option;\n         $scope.searchVideo($scope.option,$scope.searchKey,$scope.page);\n         $ionicScrollDelegate.$getByHandle('listScroll').scrollTop();\n         $scope.popover.hide();\n     }\n});","app.controller(\"starCtrl\", function($timeout,$ionicScrollDelegate, $scope,$localStorage) {\n    function init() {\n    \t$scope.videos=$localStorage.saveList;\n       \n    }\n    $scope.$on('$ionicView.enter', function(e) {\n            init();\n            console.log(\"star\",\"$ionicView.enter\");\n      });\n});","app.controller('viewCtrl', function($timeout, Toast, $state, $localStorage, $scope, videoApi, $ionicScrollDelegate, $sce) {\n    $scope.$on('$ionicView.enter', function(e) {\n        init();\n        console.log(\"view\", \"$ionicView.enter\");\n    });\n\n    $scope.$on('$ionicView.beforeLeave', function(e) {\n        $scope.video_src = undefined;\n        console.log(\"view\", \"$ionicView.beforeLeave\");\n    });\n\n\n    function init() {\n        $scope.page = -1;\n        $scope.isBtnTop = false;\n        $scope.has_more = true;\n        $scope.videos = [];\n        $scope.video = $localStorage.video;\n        $scope.video_src = $sce.trustAsResourceUrl($scope.video.embedded_url);\n        var keywordArr=$scope.video.keyword.split(\" \");\n        $scope.keyword=keywordArr[0];\n    }\n\n    $scope.loadNextPage = function() {\n        $scope.page++;\n        videoApi.search({},$scope.keyword,$scope.page,15).then(function(data) {\n            $scope.has_more = data.response.has_more;\n            $scope.videos = $scope.videos.concat(data.response.videos);\n            $scope.$broadcast('scroll.infiniteScrollComplete');\n         });\n    }\n})"]}